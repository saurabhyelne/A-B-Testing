<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Saurabh Yelne" />


<title>A/B Testing</title>
<!-- Material Design fonts -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="A_B_Testing_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="A_B_Testing_files/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="A_B_Testing_files/bootstrap-3.3.6/js/bootstrap.min.js"></script>
<script src="A_B_Testing_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<script src="A_B_Testing_files/navigation-1.1/tabsets.js"></script>
<script src="A_B_Testing_files/navigation-1.1/codefolding.js"></script>
<link href="A_B_Testing_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
<script src="A_B_Testing_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
<link href="A_B_Testing_files/bootstrap_material-0.1/bootstrap-material-design.min.css" rel="stylesheet" />
<link href="A_B_Testing_files/bootstrap_material-0.1/ripples.min.css" rel="stylesheet" />
<script src="A_B_Testing_files/bootstrap_material-0.1/material.min.js"></script>
<script src="A_B_Testing_files/bootstrap_material-0.1/ripples.min.js"></script>
<link href="A_B_Testing_files/material-0.1/material.css" rel="stylesheet" />
<script src="A_B_Testing_files/material-0.1/material.js"></script>
<script src="A_B_Testing_files/htmlwidgets-1.0/htmlwidgets.js"></script>
<script src="A_B_Testing_files/plotly-binding-4.7.1.9000/plotly.js"></script>
<script src="A_B_Testing_files/typedarray-0.1/typedarray.min.js"></script>
<link href="A_B_Testing_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="A_B_Testing_files/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="A_B_Testing_files/plotlyjs-1.35.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="A_B_Testing_files/plotlyjs-1.35.2/plotly-latest.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #dddddd; }
td.sourceCode { padding-left: 5px; }
code > span.kw { font-weight: bold; } /* Keyword */
code > span.dt { color: #800000; } /* DataType */
code > span.dv { color: #0000ff; } /* DecVal */
code > span.bn { color: #0000ff; } /* BaseN */
code > span.fl { color: #800080; } /* Float */
code > span.ch { color: #ff00ff; } /* Char */
code > span.st { color: #dd0000; } /* String */
code > span.co { color: #808080; font-style: italic; } /* Comment */
code > span.al { color: #00ff00; font-weight: bold; } /* Alert */
code > span.fu { color: #000080; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #ff0000; font-weight: bold; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #ff00ff; } /* SpecialChar */
code > span.vs { color: #dd0000; } /* VerbatimString */
code > span.ss { color: #dd0000; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #808080; font-style: italic; } /* Documentation */
code > span.an { color: #808080; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #808080; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #808080; font-weight: bold; font-style: italic; } /* Information */
</style>


<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->

</head>

<body>

<div class="header-panel shadow z-2">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-3">
        <div id="header">
    <h1 class="title">A/B Testing</h1>
                <h4 class="author"><em>Saurabh Yelne</em></h4>
                </div>
    </div>
</div>
</div>
</div>


<div class="container-fluid main-container">
    <div class="row">
      <nav class="col-xs-3 menu">
        <div id="toc">
        <ul>
        <li><a href="#reading-the-clicks-dataset">Reading the clicks dataset</a></li>
        <li><a href="#find-oldest-and-most-recent-date">Find oldest and most recent date</a></li>
        <li><a href="#what-works-better">What works better</a></li>
        <li><a href="#baseline-conversion-rates">Baseline conversion rates</a></li>
        <li><a href="#power-analysis">Power Analysis</a></li>
        <li><a href="#number-of-samples-data-points-to-run-the-ab-test">Number of samples/ data points to run the A/B test</a></li>
        <li><a href="#lets-load-the-data-and-analyze">Lets load the data and analyze</a></li>
        <li><a href="#finding-the-conversion-rates-for-the-control-and-test-conditon">Finding the conversion rates for the control and test conditon</a></li>
        <li><a href="#plotting-the-control-and-test-conditions">Plotting the control and test conditions</a></li>
        <li><a href="#statistical-analysis">Statistical analysis</a></li>
        <li><a href="#conclusion--our-experiment-was-a-success-and-the-test-conversion-rates-are-higher-than-control-is-proved-statistically">Conclusion:- Our experiment was a success and the test conversion rates are higher than control is proved statistically</a></li>
        </ul>
        </div>
      </nav>
     <div class="pages col-xs-9">
     <div class="row">
       <div class="col-xs-10">



<div id="reading-the-clicks-dataset" class="section level1">
<h1>Reading the clicks dataset</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clicks &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;click_data.csv&quot;</span>)
<span class="kw">head</span>(clicks)</code></pre></div>
<pre><code>##   visit_date clicked_adopt_today
## 1 2017-01-01                   1
## 2 2017-01-02                   1
## 3 2017-01-03                   0
## 4 2017-01-04                   1
## 5 2017-01-05                   1
## 6 2017-01-06                   0</code></pre>
<p>The dataset, which is related to a <strong>dog adoption website</strong>, has two columns and 3650 rows. The first column shows the date and the second column shows if the adopt today button on the webpage is clicked or not, 0= not clicked and 1= clicked</p>
</div>
<div id="find-oldest-and-most-recent-date" class="section level1">
<h1>Find oldest and most recent date</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(<span class="kw">as.Date</span>(clicks$visit_date))</code></pre></div>
<pre><code>## Warning in strptime(xx, f &lt;- &quot;%Y-%m-%d&quot;, tz = &quot;GMT&quot;): unknown timezone
## &#39;zone/tz/2018i.1.0/zoneinfo/America/New_York&#39;</code></pre>
<pre><code>## [1] &quot;2017-01-01&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(<span class="kw">as.Date</span>(clicks$visit_date))</code></pre></div>
<pre><code>## [1] &quot;2017-12-31&quot;</code></pre>
<p>So the dataset contains data from 1st January 2017 till 31st December 2017</p>
</div>
<div id="what-works-better" class="section level1">
<h1>What works better</h1>
<p>In order to perform the A/B testing we need a control, the current photo of a still dog on the website and a test which is the new playful photo of a dog. We want to decide which photo should be kept on the website homepage. Thus, I fell the playful dog photo will result in more ADOPT TODAY clicks i.e. more conversion rates.</p>
<p><strong>Conversion rate</strong> is the number of people clicking the ADOPT TODAY button divided by the total people visiting the webpage.</p>
<p><strong>Question</strong>: Will changing the homepage photo result in more “ADOPT TODAY” clicks?</p>
<p><strong>Hypothesis</strong>: Using a photo of a playful dog will result in more “ADOPT TODAY!” clicks</p>
<p><strong>Dependent variable</strong>: Clicked “ADOPT TODAY!” button or not</p>
<p><strong>Independent variable</strong>: Homepage photo.</p>
</div>
<div id="baseline-conversion-rates" class="section level1">
<h1>Baseline conversion rates</h1>
<p>Baseline conversion rates must be known in order to decide whether the control is better that test or not. Lets find out with the clicks dataset</p>
<div id="yearly-conversions" class="section level3">
<h3>Yearly conversions</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clicks%&gt;%<span class="st"> </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))</code></pre></div>
<pre><code>##   conversion_rate
## 1       0.2772603</code></pre>
<p>Yearly conversion rate for controal page is around 28%. But maybe there are some months where people adopt more. Lets find out.</p>
</div>
<div id="monthly-conversions" class="section level3">
<h3>Monthly conversions</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clicks %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(<span class="kw">month</span>(visit_date)) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))</code></pre></div>
<pre><code>## # A tibble: 12 x 2
##    `month(visit_date)` conversion_rate
##                  &lt;dbl&gt;           &lt;dbl&gt;
##  1                  1.           0.197
##  2                  2.           0.189
##  3                  3.           0.145
##  4                  4.           0.150
##  5                  5.           0.258
##  6                  6.           0.333
##  7                  7.           0.348
##  8                  8.           0.542
##  9                  9.           0.293
## 10                 10.           0.161
## 11                 11.           0.233
## 12                 12.           0.465</code></pre>
<p>We see conversion for each month to see if there is any effect of seasonality.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">c &lt;-<span class="st"> </span>clicks %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(<span class="kw">month</span>(visit_date)) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))<span class="co">#%&gt;%ggplot(., aes(x = `month(visit_date)`, y = conversion_rate)) +</span>
  <span class="co">#geom_point() +</span>
  <span class="co">#geom_line(color=&#39;lightseagreen&#39;)</span>
p1 &lt;-<span class="st"> </span><span class="kw">plot_ly</span>(c, <span class="dt">x =</span> ~<span class="st">`</span><span class="dt">month(visit_date)</span><span class="st">`</span>, <span class="dt">y =</span> ~conversion_rate, <span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, 
              <span class="dt">mode =</span> <span class="st">&#39;lines+markers&#39;</span>,<span class="dt">color =</span><span class="kw">I</span>(<span class="st">&quot;lightseagreen&quot;</span>) )
p1</code></pre></div>
<div id="htmlwidget-13449217466294311d9f" style="width:576px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-13449217466294311d9f">{"x":{"visdat":{"7e1f5a17b852":["function () ","plotlyVisDat"]},"cur_data":"7e1f5a17b852","attrs":{"7e1f5a17b852":{"x":{},"y":{},"mode":"lines+markers","color":["lightseagreen"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"`month(visit_date)`"},"yaxis":{"domain":[0,1],"title":"conversion_rate"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[0.196774193548387,0.189285714285714,0.145161290322581,0.15,0.258064516129032,0.333333333333333,0.348387096774194,0.541935483870968,0.293333333333333,0.161290322580645,0.233333333333333,0.464516129032258],"mode":"lines+markers","type":"scatter","marker":{"color":"rgba(32,178,170,1)","line":{"color":"rgba(32,178,170,1)"}},"textfont":{"color":"rgba(32,178,170,1)"},"error_y":{"color":"rgba(32,178,170,1)"},"error_x":{"color":"rgba(32,178,170,1)"},"line":{"color":"rgba(32,178,170,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clicks %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(<span class="kw">weekdays</span>(<span class="kw">as.Date</span>(visit_date))) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))%&gt;%<span class="kw">arrange</span>(<span class="kw">desc</span>(conversion_rate))</code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   `weekdays(as.Date(visit_date))` conversion_rate
##   &lt;chr&gt;                                     &lt;dbl&gt;
## 1 Sunday                                    0.300
## 2 Wednesday                                 0.298
## 3 Monday                                    0.277
## 4 Thursday                                  0.271
## 5 Tuesday                                   0.271
## 6 Friday                                    0.267
## 7 Saturday                                  0.256</code></pre>
</div>
<div id="as-we-can-see-the-conversion-is-not-changing-by-much-over-the-weekdays." class="section level3">
<h3>As we can see the conversion is not changing by much over the weekdays.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clicks %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(<span class="kw">week</span>(visit_date)) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))</code></pre></div>
<pre><code>## # A tibble: 53 x 2
##    `week(visit_date)` conversion_rate
##                 &lt;dbl&gt;           &lt;dbl&gt;
##  1                 1.           0.229
##  2                 2.           0.243
##  3                 3.           0.171
##  4                 4.           0.129
##  5                 5.           0.157
##  6                 6.           0.186
##  7                 7.           0.257
##  8                 8.           0.171
##  9                 9.           0.186
## 10                10.           0.200
## # ... with 43 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">w&lt;-<span class="st"> </span>clicks %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(<span class="kw">week</span>(visit_date)) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))


g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(w, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">`</span><span class="dt">week(visit_date)</span><span class="st">`</span>,<span class="dt">y =</span> conversion_rate)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_line</span>() +<span class="st">  </span><span class="kw">geom_path</span>(<span class="dt">color=</span><span class="st">&#39;peru&#39;</span>,<span class="dt">size =</span> <span class="dv">1</span>)+
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
                     <span class="dt">labels =</span> percent)+<span class="kw">xlab</span>(<span class="st">&#39;Week&#39;</span>)+<span class="kw">ylab</span>(<span class="st">&#39;Conversion Rate&#39;</span>)

p &lt;-<span class="st"> </span><span class="kw">plot_ly</span>(w, <span class="dt">x =</span> ~<span class="st">`</span><span class="dt">week(visit_date)</span><span class="st">`</span>, <span class="dt">y =</span> ~conversion_rate, <span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="dt">mode =</span> <span class="st">&#39;lines+markers&#39;</span>)
p</code></pre></div>
<div id="htmlwidget-c6ce921db59909a57da4" style="width:576px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c6ce921db59909a57da4">{"x":{"visdat":{"7e1f3618074b":["function () ","plotlyVisDat"]},"cur_data":"7e1f3618074b","attrs":{"7e1f3618074b":{"x":{},"y":{},"mode":"lines+markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"`week(visit_date)`"},"yaxis":{"domain":[0,1],"title":"conversion_rate"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53],"y":[0.228571428571429,0.242857142857143,0.171428571428571,0.128571428571429,0.157142857142857,0.185714285714286,0.257142857142857,0.171428571428571,0.185714285714286,0.2,0.142857142857143,0.114285714285714,0.1,0.171428571428571,0.114285714285714,0.242857142857143,0.1,0.242857142857143,0.185714285714286,0.314285714285714,0.3,0.285714285714286,0.357142857142857,0.357142857142857,0.314285714285714,0.3,0.242857142857143,0.357142857142857,0.4,0.4,0.428571428571429,0.514285714285714,0.6,0.514285714285714,0.471428571428571,0.285714285714286,0.3,0.285714285714286,0.314285714285714,0.214285714285714,0.128571428571429,0.142857142857143,0.171428571428571,0.285714285714286,0.214285714285714,0.214285714285714,0.214285714285714,0.257142857142857,0.571428571428571,0.414285714285714,0.471428571428571,0.4,0.5],"mode":"lines+markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>The plot shows the seasonal conversion rates by week of the year</p>
</div>
</div>
<div id="power-analysis" class="section level1">
<h1>Power Analysis</h1>
<p><strong>Statistical test</strong> - statistical test you plan to run</p>
<p><strong>Baseline value</strong> - value for the current control condition</p>
<p><strong>Desired value</strong> - expected value for the test condition</p>
<p><strong>Proportion</strong> of the data from the test condition (ideally 0.5)</p>
<p><strong>Significance threshold</strong> / alpha - level where effect is significant (generally 0.05)</p>
<p><strong>Power</strong> / 1 - Beta - Probability correctly rejecting null hypothesis (generally 0.8)</p>
</div>
<div id="number-of-samples-data-points-to-run-the-ab-test" class="section level1">
<h1>Number of samples/ data points to run the A/B test</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">total_sample_size &lt;-<span class="st"> </span><span class="kw">SSizeLogisticBin</span>(<span class="dt">p1 =</span> <span class="fl">0.2</span>,
                                      <span class="dt">p2 =</span> <span class="fl">0.3</span>,
                                      <span class="dt">B =</span> <span class="fl">0.5</span>,
                                      <span class="dt">alpha =</span> <span class="fl">0.05</span>,
                                      <span class="dt">power =</span> <span class="fl">0.8</span>)
 total_sample_size</code></pre></div>
<pre><code>## [1] 587</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> total_sample_size/<span class="dv">2</span></code></pre></div>
<pre><code>## [1] 293.5</code></pre>
<div id="thus-we-require-total-587-data-points-which-means-294-each-for-test-and-control" class="section level3">
<h3>Thus we require total 587 data points which means 294 each for test and control</h3>
</div>
<div id="now-after-running-the-experiment-and-collecting-the-data-we-will-try-to-find-out-if-there-is-statistical-difference-between-test-and-control.-this-data-is-saved-in-the-experiment-data." class="section level3">
<h3>Now after running the experiment and collecting the data, we will try to find out if there is statistical difference between test and control. This data is saved in the experiment data.</h3>
</div>
</div>
<div id="lets-load-the-data-and-analyze" class="section level1">
<h1>Lets load the data and analyze</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">exp &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;experiment_data.csv&quot;</span>)
<span class="kw">head</span>(exp)</code></pre></div>
<pre><code>##   visit_date condition clicked_adopt_today
## 1 2018-01-01   control                   0
## 2 2018-01-01   control                   1
## 3 2018-01-01   control                   0
## 4 2018-01-01   control                   0
## 5 2018-01-01      test                   0
## 6 2018-01-01      test                   0</code></pre>
<p>As we can observe, we have one more column in the dataset called condition which tells us if the user is clicking the adopt button from control page or test page.</p>
</div>
<div id="finding-the-conversion-rates-for-the-control-and-test-conditon" class="section level1">
<h1>Finding the conversion rates for the control and test conditon</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">exp %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(condition) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))</code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   condition conversion_rate
##   &lt;fct&gt;               &lt;dbl&gt;
## 1 control             0.167
## 2 test                0.384</code></pre>
<p>As observed, the conversion rate for control is around 17% and test is 38%. This difference looks large.</p>
</div>
<div id="plotting-the-control-and-test-conditions" class="section level1">
<h1>Plotting the control and test conditions</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">expp &lt;-<span class="st"> </span>exp %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(<span class="kw">day</span>(visit_date), condition) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">conversion_rate =</span> <span class="kw">mean</span>(clicked_adopt_today))

<span class="kw">ggplot</span>(expp,<span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">`</span><span class="dt">day(visit_date)</span><span class="st">`</span>,
           <span class="dt">y =</span> conversion_rate,
           <span class="dt">color =</span> condition,
           <span class="dt">group =</span> condition)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_line</span>()</code></pre></div>
<p><img src="A_B_Testing_files/figure-html/unnamed-chunk-12-1.png" width="576" /></p>
<div id="thus-from-the-plot-we-can-observe-that-the-test-condition-is-almost-always-having-a-high-conversion-rate-than-the-control" class="section level3">
<h3>Thus from the plot we can observe that the test condition is almost always having a high conversion rate than the control</h3>
</div>
</div>
<div id="statistical-analysis" class="section level1">
<h1>Statistical analysis</h1>
<div id="as-the-dependent-variable-clicked_adopt_today-is-binary-we-will-use-logistic-regression-for-statistical-analysis" class="section level3">
<h3>As the dependent variable ‘clicked_adopt_today’ is binary, we will use logistic regression for statistical analysis</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glm</span>(clicked_adopt_today ~<span class="st"> </span>condition,
    <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>,
    <span class="dt">data =</span> exp) %&gt;%
<span class="st">  </span><span class="kw">tidy</span>()</code></pre></div>
<pre><code>##            term  estimate std.error  statistic      p.value
## 1   (Intercept) -1.609438 0.1564922 -10.284464 8.280185e-25
## 2 conditiontest  1.138329 0.1971401   5.774212 7.731397e-09</code></pre>
</div>
<div id="for-condition-test-the-p-value-is-very-small-and-thus-it-is-significant.-thus-we-can-conclude-test-is-significantly-important-and-the-conversion-rate-difference-between-the-test-and-the-control-are-statistically-significant.-also-the-test-estimate-is-positive-showing-the-test-condition-has-a-higher-control-rate-than-control." class="section level3">
<h3>For condition test, the p-value is very small and thus it is significant. Thus we can conclude test is significantly important and the conversion rate difference between the test and the control are statistically significant. Also the test estimate is positive showing the test condition has a higher control rate than control.</h3>
</div>
</div>
<div id="conclusion--our-experiment-was-a-success-and-the-test-conversion-rates-are-higher-than-control-is-proved-statistically" class="section level1">
<h1>Conclusion:- Our experiment was a success and the test conversion rates are higher than control is proved statistically</h1>
</div>

    </div>
    <div class="col-xs-2">
        </div>
  </div>
  </div>
  </div>
  <div class="row">
    </div>
  </div>

<script>
$(document).ready(function () {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-striped table-hover');

    var images = $('.pages img');
  images.filter(function() {
      if ($(this).parent().attr("class") == "figure") {
          return(false)
      } else {
          return(true);
      }
  }).wrap("<div class='figure'></div>");
  images.addClass("image-thumb").wrap("<div class='panel-body'></div>");
  $('.figure p.caption').wrap("<div class='panel-footer'></div>");
  $('.figure').addClass('panel panel-default');
  
    $('.pages img')
 	  .addClass("image-lb");
  $('.pages').magnificPopup({
	      type:'image',
	      closeOnContentClick: false,
	      closeBtnInside: false,
        delegate: 'img',
	      gallery: {enabled: false },
          removalDelay: 500,
          callbacks: {
              beforeOpen: function() {
                // just a hack that adds mfp-anim class to markup
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
              }
          },
          mainClass: 'mfp-move-from-top',
	      image: {
	        verticalFit: true,
            titleSrc: 'alt'
	      }
 	    });
 	
    
    $(".page").addClass("active");
    $('.pages').scrollspy({target: '#toc'});

    


    window.page = window.location.hash;
    if (window.page != "") {
      $(".menu").find("li[data-target=" + window.page + "]").trigger("click");
    }

    /* init material bootstrap js */
    $.material.init();
});
</script>




<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
